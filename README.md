# The L command

`l` コマンドは、 `less` のかわりにも `ls` のかわりにもなる新しいコマンドです。ファイルやディレクトリの中身をスマートに判別し、最適な方法で表示します。

## Usage

- `l /path/to/file`: `less /path/to/file` として働きます（大きなファイル向け）
- `l /path/to/directory`: `ls /path/to/directory` として働きます（ディレクトリ一覧表示）
- `l /path/to/short-file`: `cat /path/to/file` として働きます（短いファイル向け）

## 詳細な動作仕様

- ファイルサイズや行数を自動判別し、短ければ `cat`、長ければ `less` を使用
- ディレクトリかどうかを自動で判別
- 標準入力があれば `less` にパイプ

## オプション

- TO BE DETERMINED

## 拡張機能（将来像）

- カラー出力サポート（`ls` のカラー、`less` のシンタックスハイライト）
- JSON / YAML / Markdown などの自動整形表示（ファイル内容に応じて）
  - JSON ファイルは `jq` を使用して整形表示
  - 大きな JSON ファイルには `.[:10]` などのサンプル表示を行い、必要に応じて全文表示
  - `jq empty` による構文チェックを行い、無効な JSON のエラーも高速に検出
- ページネーションやカラム表示の自動最適化（端末サイズに応じて）
- シンボリックリンクの解決・表示オプション
- Git リポジトリ内では `git ls-files` にフォールバック
- 拡張子や `file` コマンドの判定に基づいて処理を2系統に分ける：
  - **シンタックスハイライト系（テキストファイル）**
    - `bat` による構文強調表示（.sh, .py, .js, .json, .yml など）
    - `glow` や `mdcat` による Markdown 表示
    - `jq`, `yq`, `column` などを用いた整形・構造表示
    - `.csv`, `.tsv` ファイルには `column -t -s,` による表形式整形表示
    - `.log` ファイルにはカラーフィルタ（`ccze`, `grc`, `lnav` など）を通して視認性向上
  - **バイナリ対応系（非テキストファイル）**
    - `xxd`, `hexdump` による16進表示
    - `file` でバイナリ検出後、画像なら `viu`、PDFなら `pdftotext`、音声/動画なら `mediainfo` を利用
    - `.zip`, `.tar.gz` などのアーカイブは `unzip -l`, `tar -tzf` などで中身一覧表示
    - バイナリファイルには自動でメタ情報だけを表示

## ユースケース（将来像）

- 単に中身を見たい時に `l file.txt`
- ディレクトリの内容を一目で確認したい時に `l ./myfolder`
- 短い設定ファイルを素早く読む時に `l config.ini`
- JSON ファイルを整形して読みたいとき `l data.json`
- ログや CSV ファイルを可視的に確認したい時に `l access.log`, `l result.csv`
- アーカイブファイルの中身を素早く一覧したい時に `l backup.zip`
